"use strict";(self.webpackChunkFullCart_UI=self.webpackChunkFullCart_UI||[]).push([[77],{7077:(v,a,r)=>{r.r(a),r.d(a,{AccountModule:()=>C});var c=r(6814),l=r(7664),i=r(95),t=r(4946),m=r(5619),u=r(7398),g=r(4282),p=r(9862);let d=(()=>{class o{constructor(e,n){this.http=e,this.router=n,this.baseUrl=g.T.apiUrl,this.currentUserSource=new m.X(null),this.currentUser$=this.currentUserSource.asObservable()}login(e){return this.http.post(this.baseUrl+"account/login",e).pipe((0,u.U)(n=>{const s=n;return s&&(localStorage.setItem("token",s.token),this.currentUserSource.next(s)),s}))}register(e){return this.http.post(this.baseUrl+"account/register",e).pipe((0,u.U)(n=>{n&&localStorage.setItem("token",n.token)}))}logout(){localStorage.removeItem("token"),this.currentUserSource.next(null),this.router.navigateByUrl("/")}checkEmailExists(e){return this.http.get(this.baseUrl+"/account/emailexists?email="+e)}static#t=this.\u0275fac=function(n){return new(n||o)(t.LFG(p.eN),t.LFG(l.F0))};static#o=this.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();const h=[{path:"login",component:(()=>{class o{constructor(e){this.accountService=e}ngOnInit(){this.createLoginForm()}createLoginForm(){this.loginForm=new i.cw({email:new i.NI("",i.kI.required),password:new i.NI("",i.kI.required)})}onSubmit(){console.log(this.loginForm.value),this.accountService.login(this.loginForm.value).subscribe(()=>{console.log("user logged in")},e=>{console.log(e)})}static#t=this.\u0275fac=function(n){return new(n||o)(t.Y36(d))};static#o=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-login"]],decls:17,vars:1,consts:[[1,"d-flex","justify-content-center","mt-4"],[1,"col-4"],[1,"form-signin",3,"formGroup","ngSubmit"],[1,"text-center","mb-4"],[1,"h3","mb-3","font-weight-normal"],[1,"form-label-group"],["type","email","formControlName","email","placeholder","Email address","autofocus","",1,"form-control"],["for","userEmail"],["type","password","formControlName","password","placeholder","Password",1,"form-control"],["for","userPassword"],[1,"d-grid","gap-2","col-12","mx-auto"],["type","submit",1,"btn","btn-primary","btn-pink"]],template:function(n,s){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"form",2),t.NdJ("ngSubmit",function(){return s.onSubmit()}),t.TgZ(3,"div",3)(4,"h1",4),t._uU(5,"Login"),t.qZA()(),t.TgZ(6,"div",5),t._UZ(7,"input",6),t.TgZ(8,"label",7),t._uU(9,"Email address"),t.qZA()(),t.TgZ(10,"div",5),t._UZ(11,"input",8),t.TgZ(12,"label",9),t._uU(13,"Password"),t.qZA()(),t.TgZ(14,"div",10)(15,"button",11),t._uU(16,"Sign in"),t.qZA()()()()()),2&n&&(t.xp6(2),t.Q6J("formGroup",s.loginForm))},dependencies:[i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u],styles:[".form-signin[_ngcontent-%COMP%]{width:100%;max-width:420px;padding:15px;margin:auto}.form-label-group[_ngcontent-%COMP%]{position:relative;margin-bottom:1rem}.form-label-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-label-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{height:3.125rem;padding:.75rem}.form-label-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;top:0;left:0;display:block;width:100%;margin-bottom:0;line-height:1.5;color:#495057;pointer-events:none;cursor:text;border:1px solid transparent;border-radius:.25rem;transition:all .1s ease-in-out}.form-label-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:transparent}.form-label-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:placeholder-shown){padding-top:1.25rem;padding-bottom:.25rem}.form-label-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:placeholder-shown) ~ label[_ngcontent-%COMP%]{padding-top:.25rem;padding-bottom:.25rem;font-size:12px;color:#777}.form-label-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill ~ label[_ngcontent-%COMP%]{padding-top:.25rem;padding-bottom:.25rem;font-size:12px;color:#777}.btn-pink[_ngcontent-%COMP%], .btn-pink[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:visited{color:#fff;background-color:#d31372;border-color:#d31372}@supports (-ms-ime-align: auto){.form-label-group[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse}.form-label-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:static}.form-label-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-ms-input-placeholder{color:#777}}"]})}return o})()},{path:"register",component:(()=>{class o{static#t=this.\u0275fac=function(n){return new(n||o)};static#o=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-register"]],decls:2,vars:0,template:function(n,s){1&n&&(t.TgZ(0,"p"),t._uU(1,"register works!"),t.qZA())}})}return o})()}];let f=(()=>{class o{static#t=this.\u0275fac=function(n){return new(n||o)};static#o=this.\u0275mod=t.oAB({type:o});static#n=this.\u0275inj=t.cJS({imports:[c.ez,l.Bz.forChild(h),l.Bz]})}return o})();var b=r(6208);let C=(()=>{class o{static#t=this.\u0275fac=function(n){return new(n||o)};static#o=this.\u0275mod=t.oAB({type:o});static#n=this.\u0275inj=t.cJS({imports:[c.ez,f,b.m]})}return o})()}}]);